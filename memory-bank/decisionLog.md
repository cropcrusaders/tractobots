# Decision Log

| Date | Decision | Rationale |
|------|----------|-----------|
| 2025-07-05 | Import errors in tractobots_win_dashboard.py are linter/type-checker issues, not runtime issues - all dependencies are properly installed and code imports successfully | Tested each import individually and dashboard module import - all work correctly. The 84 compile errors are false positives from language server configuration |
| 2025-07-06 | Fixed WebSocket API compatibility by removing unsupported timeout parameter and using threading for timeout control | The websocket-client library version doesn't support timeout parameter in run_forever(), so implemented a threading-based timeout mechanism instead |
| 2025-07-06 | Fixed dashboard AttributeError by renaming RosWorker.log_message method to log_to_console to avoid conflict with log_message signal | Python was confusing the log_message signal with the log_message method in the same class, causing 'function' object has no attribute 'connect' error. Renaming the method resolved the naming conflict. |
| 2025-07-06 | Implemented robust connection retry logic with exponential backoff, automatic rosbridge startup detection, and improved error handling | The dashboard was connecting too aggressively and not waiting properly for rosbridge. Added 5-second initial wait, retry mechanism with exponential backoff up to 20 attempts, and automatic detection of rosbridge availability. |
| 2025-07-06 | Fixed connection loop and log_output AttributeError by setting _is_connected immediately after successful connection and replacing all log_output references with log_text_edit | The connection loop was creating multiple clients because _is_connected wasn't set immediately, causing race conditions. Also, log_output attribute didn't exist, causing crashes when launching Gazebo - replaced with the correct log_text_edit attribute. |
| 2025-07-06 | Fixed all bash command syntax errors by converting multi-line commands to single-line format | The multi-line bash commands were causing 'syntax error: unexpected end of file' because WSL bash -c expects single-line commands. Converted all commands to use && chaining instead of line breaks. Also removed erroneous HTML content that was mixed into the Python file and reduced debug logging frequency to prevent terminal spam. |
| 2025-07-06 | Enhanced dashboard with interactive terminal and cheat code reference panel | User requested interactive terminal capability and a cheat code panel for information. Added command input field with execute button, keyboard shortcuts (Ctrl+Enter), dark terminal styling, and comprehensive reference panel with color-coded sections for ROS2 commands, Tractobots-specific commands, system commands, and quick tips. This makes the dashboard much more user-friendly and educational. |
| 2025-07-06 | Resolved 338 VS Code problems by distinguishing between actual code bugs vs false positive linting warnings | The majority of "problems" were import resolution warnings from VS Code trying to analyze ROS2 packages in Windows environment. Fixed actual bugs (Scaler callable, None checks) and configured proper linting to suppress expected warnings. This maintains full functionality while providing a cleaner development experience. |
